jQuery(document).ready(function(i){"use strict";var s,e,r;sc_event_ticket_vars.publishable_key?(e=(s=Stripe(sc_event_ticket_vars.publishable_key)).elements(),(r=e.create("card",{style:{base:{color:"#32325d",lineHeight:"1.5rem"}},classes:{base:"form-group"},hidePostalCode:!1})).mount("#sc-event-ticketing-card-element"),r.addEventListener("change",({error:e})=>{e?i("#sc-event-ticketing-card-errors").append('<div class="sc-et-error alert alert-danger" role="alert">'+e.message+"</div>"):i("#sc-event-ticketing-card-errors").text("")})):i("#sc-event-ticketing-modal-payment-fieldset").hide(),i("body").on("sc_et_gateway_ajax",function(){var t=i("#sc-event-ticketing-email").val(),n=i("#sc-event-ticketing-first-name").val(),a=i("#sc-event-ticketing-last-name").val(),e=i("#sc_et_event_id").val(),c=i("#sc_et_quantity").val();i.ajax({type:"POST",url:sc_event_ticket_vars.ajaxurl,dataType:"json",data:{action:"sc_et_stripe_create_payment_intent",email:t,name:n+" "+a,event_id:e,quantity:c},success:function(e){e.data.client_secret&&s&&r?s.confirmCardPayment(e.data.client_secret,{payment_method:{card:r,billing_details:{name:n+" "+a,email:t}}}).then(function(e){e.error&&e.error.message?(i("#sc-event-ticketing-modal .spinner-border").hide(),i("#sc-event-ticketing-card-errors").text("").append('<div class="sc-et-error alert alert-danger" role="alert">'+e.error.message+"</div>")):"succeeded"===e.paymentIntent.status&&(i("#sc-event-ticketing-checkout").append('<input type="hidden" name="sc_et_payment_intent" value="'+e.paymentIntent.id+'"/>'),i("#sc-event-ticketing-checkout").append('<input type="hidden" name="sc_et_payment_amount" value="'+e.paymentIntent.amount+'"/>'),i("#sc-event-ticketing-checkout").get(0).submit())}):e.data.sandbox&&i("#sc-event-ticketing-checkout").get(0).submit()}}).done(function(){}).fail(function(){}).always(function(){})})});