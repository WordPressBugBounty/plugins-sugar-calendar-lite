((i,n,t)=>{var e=window.SugarCalendar||{};e.Admin=e.Admin||{},e.Admin.Calendar={init:function(t){this.settings=t,this.$settingsMetabox=i("#calendar_settings");let e=i("input#tag-name");e.length<=0&&(e=i("input#name")),this.$tagDom=e,this.bindEvents(),this.initChoicesJS(),this.initColorPickers()},bindEvents:function(){i("button.handlediv",this.$settingsMetabox).on("click",this.toggleMetabox.bind(this)),this.$tagDom.on("blur",this.generateSlugFromName.bind(this))},initChoicesJS:function(){i(".choicesjs-select").each((t,e)=>{new n(e,{itemSelectText:""})})},initColorPickers:function(){i("#term-color").wpColorPicker({palettes:this.settings.palette})},toggleMetabox:function(){this.$settingsMetabox.toggleClass("closed")},generateSlugFromName:function(){var t=i("#tag-slug");0<t.val().length||t.val(this.createSlug(this.$tagDom.val()))},createSlug:function(t){return t?t.toLowerCase().trim().replace(/[\s\-_]+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""):""}},e.Admin.Calendar.init(t),window.SugarCalendar=e})(jQuery,Choices,sugar_calendar_admin_calendar);