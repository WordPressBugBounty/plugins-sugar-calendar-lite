jQuery(document).ready(function(d){const t=scShortcodeHelper.title,s=scShortcodeHelper.width,c=scShortcodeHelper.height,i=scShortcodeHelper.inlineId,o=scShortcodeHelper.identifier,l=scShortcodeHelper.config,n='input[name="sc_sh_type"]',a=".sc-sh-display-options",h="#sc-sh-all-calendars",p="#sc-sh-calendars",u="#sc-sh-sc_events_list-group-events-by-week",r="#sc-sh-sc_events_list-events-per-page",v="#sc-sh-sc_events_list-maximum-events-to-show",_=()=>d(n+":checked").val(),w=(e,t)=>l[e]&&l[e].attributes[t]?l[e].attributes[t]:null,m=(e,t)=>{var s;e&&e.length&&t&&(t=void 0!==t.default?t.default:"",e.is("select")?(s=e.data("choicesjs"))?(s.removeActiveItems(),Array.isArray(t)&&t.length?s.setChoiceByValue(t.map(String)):"string"==typeof t&&""!==t&&s.setChoiceByValue(t)):e.val((Array.isArray(t),t)):e.is(":checkbox")?e.prop("checked",!!t):e.val(t))},f=e=>{var t;e&&e.length&&(e.is("select")?(t=e.data("choicesjs"))?t.removeActiveItems():e.val(e.prop("multiple")?[]:""):e.is(":checkbox")?e.prop("checked",!1):e.val(""))},b=(e,t)=>{var s;e&&l[e]&&(s=l[e].attributes||{},t?(e=w(e,t))&&e.input_id&&m(d("#"+e.input_id),e):d.each(s,(e,t)=>{t&&t.input_id&&m(d("#"+t.input_id),t)}))},g=(e,t)=>{e=w(e,t);e&&e.input_id&&f(d("#"+e.input_id))},y=()=>{var e=_(),t=d(u).closest(".sc-sh-field"),s=d(r).closest(".sc-sh-field"),c=d(v).closest(".sc-sh-field");"sc_events_list"===e?(t.show(),s.show(),c.show(),A()):(t.hide(),s.hide(),c.hide())},k=()=>{var e=d(n+":checked").val();d(a).hide(),d(a+`[data-shortcode="${e}"]`).show(),d(".sc-sh-content").attr("type-selected",e),y()},S=(d(document).on("change",n,k),()=>{var e=d(h).is(":checked"),t=d(p),t=(t.prop("disabled",e),t.closest(".sc-sh-field"));t.length&&(e?(t.hide(),"sc_events_calendar"===_()&&g("sc_events_calendar","calendars")):t.show())});if("function"==typeof window.Choices){const j=d(p);var e;j.length&&(e=new Choices(j[0],{removeItemButton:!0,searchEnabled:!0,shouldSort:!1,position:"auto",itemSelectText:"",callbackOnInit:function(){j.closest(".choices__inner").append('<div class="choices__arrow"></div>')}}),j.data("choicesjs",e),S())}d(document).on("change",h,S);const A=()=>{var e=d(u).is(":checked"),t=d(r).closest(".sc-sh-field"),s=d(v).closest(".sc-sh-field");(e?(t.hide(),s.hide(),g("sc_events_list","events_per_page"),g):(t.show(),s.show(),b("sc_events_list","events_per_page"),b))("sc_events_list","maximum_events_to_show")};d(document).on("change",u,A);d(document).on("tb_unload",()=>{b("sc_events_calendar"),b("sc_events_list"),d(h).prop("checked",!0),S(),y(),A()}),d(document).on("click",".sc-insert-shortcode-button",e=>{e.preventDefault();e={width:s,height:c,inlineId:i},e="#TB_inline?"+d.param(e);"function"==typeof tb_show&&(tb_show(t,e),k(),S(),A())});d(document).on("click",".sc-insert-shortcode-confirm",e=>{e.preventDefault();e=(()=>{const a=d(n+":checked").val();let e=d(h).is(":checked");const t=d(u).is(":checked");var s,c=l[a].name;let r={},i=(d.each(l[a].attributes,(s,c)=>{if(!("calendars"===s&&e||"sc_events_list"===a&&t&&("events_per_page"===s||"maximum_events_to_show"===s))){var i=d("#"+c.input_id);if(0!==i.length)if(i.is("select")){var c=l[a].attributes[s]||{},o=c.type||"",c=void 0!==c.default?c.default:"",n=i.val();let e,t;e=Array.isArray(n)?n.join(","):null==n?"":String(n),t="array_int"===o?Array.isArray(c)?c.join(","):c??"":"int"!==o&&void 0===c?"":String(c),e!==t&&(r[s]=e)}else if(i.is(":checkbox")){const c=!!i.is(":checked");c!==l[a].attributes[s].default&&(r[s]=c)}else{n=l[a].attributes[s]||{},o=void 0!==n.default?n.default:"",c=i.val(),n=null==c?"":String(c).trim();n!==(void 0===o?"":String(o))&&(r[s]=n)}}}),(e=d(h).is(":checked"))||0<(s=d(p).val()||[]).length&&(r.calendars=s.join(",")),"["+c);return Object.keys(r).forEach(e=>{var t=r[e];i+="boolean"==typeof t?` ${e}="${t?"true":"false"}"`:` ${e}="${t}"`}),i+="]"})();window.wp&&window.wp.media&&window.wp.media.editor&&window.wp.media.editor.insert(e),"function"==typeof tb_remove&&tb_remove()});const x=window.tb_show;window.tb_show=function(e,t,s){var c=x.apply(this,arguments);return d(document).trigger("thickbox:opened",{caption:e,url:t}),c},d(document).on("thickbox:opened",function(e,t){d(".sc-shortcode-helper-modal-wrap").parents("#TB_window").attr("sc-popup",o)})});