!function(r){"use strict";var o={init:function(){o.initFlyoutMenu()},initFlyoutMenu:function(){var t,n,e,a,c=r("#sugar-calendar-flyout");0!==c.length&&(t=c.find(".sc-flyout-head"),n=t.find("img"),e=n.attr("src").replace("mascot.svg",""),t.on("mouseenter",function(){n.attr("src",e+"mascot-hover.svg")}),t.on("mouseleave",function(){c.hasClass("opened")||n.attr("src",e+"mascot.svg")}),t.on("click",function(t){t.preventDefault(),n.attr("src",e+"mascot-clicked.svg"),c.toggleClass("opened")}),t.on("keydown",function(t){13!==t.which&&32!==t.which||(t.preventDefault(),n.attr("src",e+"mascot-clicked.svg"),c.toggleClass("opened"))}),r(document).on("keydown",function(t){27===t.which&&c.hasClass("opened")&&(c.removeClass("opened"),n.attr("src",e+"mascot.svg"))}),r(document).on("click",function(t){c.hasClass("opened")&&!c.is(t.target)&&0===c.has(t.target).length&&(c.removeClass("opened"),n.attr("src",e+"mascot.svg"))}),a=r("#wpfooter"),r(window).on("scroll",o.throttle(function(){var t=0<a.length?a.offset().top:0,n=t+(0<a.length?a.height():0),e=r(".sugar-calendar-admin-content, .wrap").last(),e=0<e.length?e.offset().top+e.height()+85:0,o=r(window).scrollTop(),s=o+r(window).height();n<=s&&o<=t&&s<e?c.addClass("out"):c.removeClass("out")},50)),r(window).trigger("scroll"))},throttle:function(e,o){var s;return function(){var t=this,n=arguments;s=s||setTimeout(function(){s=null,e.apply(t,n)},o)}}};r(o.init)}(jQuery);