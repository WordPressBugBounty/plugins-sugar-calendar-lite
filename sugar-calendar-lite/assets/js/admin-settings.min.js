!function(e,s,t){"use strict";var i=window.SugarCalendar||{};i.Admin=i.Admin||{},e.fn.dateTimeFormat=function(t,i){this.each(function(){this.settings=t,this.$options=this.find('[type="radio"]:not([data-custom-option])'),this.$customOption=this.find("[data-custom-option]"),this.$customField=this.find("[data-custom-field]"),this.$formatExample=this.find("[data-format-example]"),this.$spinner=this.find("[data-spinner]"),this.debounce=null,this.$options.on("click",function(t){var t=e(t.target),i=t.parent().find("[data-format-i18n]").text();this.$customField.val(t.val()),this.$formatExample.text(i)}.bind(this)),this.$customField.on("click input",function(){this.$customOption.prop("checked",!0)}.bind(this)),this.$customField.on("input",function(){clearTimeout(this.debounce),""!==this.$customField.val()&&(this.$spinner.addClass("is-active"),this.debounce=setTimeout(()=>{e.post(this.settings.ajax_url,{task:"date_time_format",date_time_format:this.$customField.val()}).done(t=>{t.success&&t.data&&this.$formatExample.text(t.data)}).always(()=>this.$spinner.removeClass("is-active"))},400))}.bind(this))}.bind(this))},i.Admin.Settings={init:function(t){e("#screen-meta-links, #screen-meta").prependTo("#sugar-calendar-header-temp").show(),this.initDateTimeFormats(),this.initChoicesJS()},initChoicesJS:function(){e(".choicesjs-select").each((t,i)=>{new s(i,{itemSelectText:""})})},initDateTimeFormats:function(){e("#sugar-calendar-setting-row-date_format").dateTimeFormat(t),e("#sugar-calendar-setting-row-time_format").dateTimeFormat(t)}},i.Admin.Settings.init(t),window.SugarCalendar=i}(jQuery,Choices,sugar_calendar_admin_settings,document);