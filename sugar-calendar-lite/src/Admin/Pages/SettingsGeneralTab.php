<?php

namespace Sugar_Calendar\Admin\Pages;

use Sugar_Calendar\Admin\Pages\Settings;
use Sugar_Calendar\Common\Editor;
use Sugar_Calendar\Helpers\Helpers;
use Sugar_Calendar\Helpers\UI;
use Sugar_Calendar\Helpers\WP;
use Sugar_Calendar\Options;
use Sugar_Calendar\Options as PluginSettings;

/**
 * General Settings tab.
 *
 * @since 3.0.0
 */
class SettingsGeneralTab extends Settings {

	/**
	 * Page tab slug.
	 *
	 * @since 3.0.0
	 *
	 * @return string
	 */
	public static function get_tab_slug() {

		return 'general';
	}

	/**
	 * Page label.
	 *
	 * @since 3.0.0
	 *
	 * @return string
	 */
	public static function get_label() {

		return esc_html__( 'General', 'sugar-calendar-lite' );
	}

	/**
	 * Page menu priority.
	 *
	 * @since 3.0.0
	 *
	 * @return int
	 */
	public static function get_priority() {

		return 0;
	}

	/**
	 * Register page hooks.
	 *
	 * @since 3.0.0
	 */
	public function hooks() {

		parent::hooks();

		add_action( 'sugar_calendar_ajax_date_time_format', [ $this, 'ajax_date_time_format' ] );
	}

	/**
	 * Display the lite education notice in the General tab settings.
	 *
	 * @since 3.10.0
	 */
	private function display_lite_education() {
		?>
		<div class="sugar-calendar__product-education__notice sugar-calendar__product-education__notice__settings-general">
			<div class="sugar-calendar__product-education__notice__content">
				<p>
					<?php
					printf(
						wp_kses(
							__( "You're using <strong>Sugar Calendar Lite</strong> - no license needed. Enjoy! ðŸ™‚", 'sugar-calendar-lite' ),
							[
								'strong' => [],
							]
						)
					);
					?>
				</p>
				<p>
					<?php
					echo wp_kses(
						sprintf(
							__( 'As a valued Sugar Calendar Lite user, you can enjoy an exclusive %1$s automatically applied at checkout to unlock even more features!', 'sugar-calendar-lite' ),
							'<span class="sugar-calendar__product-education__notice__discount">50% OFF!</span>'
						),
						[
							'span' => [
								'class' => [],
							],
						]
					);
					?>
				</p>
				<p>
					<?php
					printf(
						'<a target="_blank" rel="noopener noreferrer" class="sugar-calendar-btn sugar-calendar-btn-md sugar-calendar-btn-secondary" href="%1$s">%2$s</a>',
						esc_url(
							Helpers::get_upgrade_link(
								[
									'content' => 'general-license-key',
									'medium'  => 'settings-general',
								]
							)
						),
						esc_html__( 'Upgrade to Pro', 'sugar-calendar-lite' )
					);
					?>
				</p>
			</div>
			<div>
				<svg width="116" height="115" viewBox="0 0 116 115" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M57.8467 114.963C84.5776 114.963 106.247 112.812 106.247 110.159C106.247 107.506 84.5776 105.355 57.8467 105.355C31.1158 105.355 9.44608 107.506 9.44608 110.159C9.44608 112.812 31.1158 114.963 57.8467 114.963Z" fill="#FEECCE"/>
					<path d="M3.66897 0.272949L3.41614 0.398008C3.42973 0.39529 3.46507 0.278387 3.66897 0.272949Z" fill="#CC6017"/>
					<path d="M3.03819 0.523008C3.06266 0.468635 3.10616 0.41698 3.16325 0.397949L3.03819 0.523008Z" fill="#CC6017"/>
					<path d="M69.5236 64.3681C66.8298 62.1126 61.0224 68.5897 64.9593 71.7552C68.8962 74.9206 76.6542 82.4461 95.2052 76.7141C110.57 71.9672 122.07 52.3699 112.019 46.714C107.029 43.9064 103.509 45.5652 101.249 48.1586C98.3438 51.4936 97.1952 56.7661 94.1577 60.2418C87.7594 67.5677 76.1117 69.883 69.5236 64.3681Z" fill="#F99C2D"/>
					<path d="M82.5535 70.9631C79.1255 66.3487 74.7524 67.6656 73.6951 66.7813C71.0008 64.5283 64.3775 71.2254 68.3144 74.3909C68.7621 74.7527 76.2249 80.5876 85.9813 78.4781C71.4786 78.4781 77.6753 71.4905 82.5535 70.9631Z" fill="#E58230"/>
					<path d="M94.1577 60.2415C98.7139 64.6891 101.591 60.7145 104.975 61.6006C108.359 62.4866 109.539 66.2592 107.951 68.7776C112.095 64.3472 117.967 56.5419 115.047 49.8838C113.462 46.2737 105.949 42.5202 101.214 48.1998C98.3727 51.6064 95.1982 59.607 94.1577 60.2415Z" fill="#CC6017"/>
					<path d="M67.4274 97.8874C67.373 98.1348 67.2996 98.3822 67.2099 98.635C67.1392 98.8335 67.0522 99.0211 66.9489 99.1978C66.4052 100.136 65.4455 100.766 64.3417 101.011C63.7028 101.153 63.0177 101.166 62.3408 101.036H62.338C58.1105 100.215 55.1444 95.3753 54.723 91.958C54.5354 90.7318 53.8612 87.7359 54.3614 87.5999C56.5418 87.0073 58.2818 86.3684 61.256 87.5999C62.9334 88.546 64.3118 89.8428 65.4672 91.3762C66.9136 93.2956 67.9684 95.4732 67.4274 97.8874Z" fill="#CC6017"/>
					<path d="M64.3417 101.011C63.7028 101.153 63.0177 101.166 62.3408 101.036H62.338C61.7073 100.497 61.1935 99.8177 60.7938 99.0972C60.5981 98.7438 60.4404 98.3795 60.3153 97.9798C60.2691 97.8303 60.3534 97.6726 60.5002 97.6264C60.6117 97.5938 60.7259 97.6318 60.7993 97.7134C61.7916 98.7465 62.8926 99.7633 64.0698 100.563C64.2357 100.69 64.32 100.848 64.3417 101.011Z" fill="#994110"/>
					<path d="M67.4274 97.8874C67.373 98.1348 67.2996 98.3822 67.2099 98.6351C67.1392 98.8335 67.0522 99.0211 66.9489 99.1978C65.7935 98.7656 64.8446 97.8956 64.1296 96.9142C63.8714 96.558 63.6511 96.1883 63.469 95.7723C63.4065 95.6309 63.4717 95.4651 63.6131 95.4026C63.7137 95.3591 63.8306 95.3781 63.9094 95.4488C64.2139 95.7152 64.5374 95.9844 64.8501 96.2372C65.6494 96.887 66.5085 97.4443 67.4274 97.8874Z" fill="#994110"/>
					<path d="M102.085 82.842C102.039 83.3069 101.849 83.7609 101.539 84.1877C101.134 84.7532 100.519 85.2698 99.7579 85.7075C99.3637 85.9331 98.9314 86.137 98.4665 86.3137C94.9757 87.6459 89.726 87.4692 86.227 83.7092L86.991 81.8252L90.3132 79.9656C94.3966 77.3149 101.522 78.3072 102.074 82.3227C102.099 82.4967 102.101 82.6707 102.085 82.842Z" fill="#CC6017"/>
					<path d="M102.085 82.842C102.039 83.3069 101.849 83.7609 101.539 84.1877C101.487 84.1606 101.435 84.1252 101.384 84.079C100.198 83.0296 98.752 82.2167 97.1697 81.8116C97.0175 81.7736 96.9278 81.6186 96.9685 81.4691C96.9984 81.3576 97.0882 81.2788 97.1942 81.2624C98.1185 81.1129 99.0837 81.2516 99.9754 81.5669C100.753 81.8524 101.487 82.2602 102.085 82.842Z" fill="#994110"/>
					<path d="M99.7579 85.7077C99.3637 85.9334 98.9315 86.1372 98.4666 86.314C97.9935 85.9062 97.564 85.4766 97.0529 85.1449C96.5064 84.7752 95.8458 84.5686 95.0927 84.4136C94.935 84.3864 94.8317 84.2315 94.8643 84.0765C94.8861 83.9677 94.9676 83.8862 95.0682 83.859C95.8947 83.6333 96.8218 83.6768 97.6292 84.0194C98.4176 84.3511 99.0864 84.9138 99.6356 85.5201C99.69 85.5799 99.7308 85.6425 99.7579 85.7077Z" fill="#994110"/>
					<path d="M95.6201 48.2249C92.0368 54.1489 89.8021 69.2593 91.7867 80.3433C91.7867 80.3433 83.2854 71.0373 79.1857 70.1728C75.0859 69.3082 67.7346 61.5953 68.0962 59.4231C70.5674 58.9419 79.9659 57.917 87.8664 53.094C95.1851 48.6273 95.6201 48.2222 95.6201 48.2222V48.2249Z" fill="#E58230"/>
					<path d="M9.97633 43.4702L35.2491 55.0246L45.3789 87.9831C45.3789 87.9831 43.1469 88.7117 33.7457 79.944C24.3445 71.1762 17.5478 52.6294 9.85127 43.6959L9.97633 43.4702Z" fill="#E58230"/>
					<path d="M91.7269 80.3438C92.1211 82.8776 89.3182 84.4517 87.0834 84.4816C87.0834 84.4816 77.9623 83.9107 73.4221 84.6148C68.9933 85.2999 66.6444 87.4205 62.3625 87.9425C62.2157 87.9615 62.0798 88.0131 61.9628 88.0947C61.8106 88.2007 61.691 88.353 61.623 88.5324C60.6824 90.9982 58.9424 92.2216 56.0769 92.4772C52.5861 92.8904 47.9236 91.5909 45.1941 89.3507C42.073 86.7843 41.252 84.8296 40.8877 82.0891C39.7785 80.5912 38.8215 79.0252 38.0059 77.3994C34.8087 71.0459 33.7729 63.8251 34.2976 56.5907C23.3821 56.4847 16.0662 50.4682 9.93826 44.063H9.93554C9.69902 43.8156 9.46249 43.5655 9.22868 43.3181C11.6211 42.8994 14.9162 40.961 15.6747 38.6909C18.5021 40.4445 23.3957 41.9234 25.2417 42.1953C39.5582 44.305 65.2008 48.7663 76.4126 46.6947C80.1073 46.0123 85.8111 44.691 89.2257 42.9429C89.4487 45.2538 91.4986 47.2248 93.8584 47.9235C94.4891 48.1111 95.1416 48.209 95.7886 48.1954C88.7309 54.2173 79.6587 60.5627 69.2108 59.7063C71.5163 66.4187 78.0085 67.5089 83.4649 70.339H83.4676C85.6724 71.4809 87.706 72.9055 89.2285 75.1021L91.7269 80.3438Z" fill="#FFAB3D"/>
					<path d="M38.3756 50.9493C37.0951 63.1398 37.6253 75.1944 48.9785 83.973C53.9264 87.8009 60.9053 87.1811 64.4668 86.08C69.0233 84.6717 75.7683 81.4229 70.3908 71.5922C65.1056 61.9273 62.0118 59.0509 59.7662 52.8252L59.0158 49.6987L38.8133 48.2197L38.3756 50.9493Z" fill="#FFDD99"/>
					<path d="M19.4428 32.1605C18.2112 29.5968 15.2886 32.2176 14.3316 33.6232C13.5813 34.6997 12.9315 28.3272 12.3035 27.498C11.7217 26.3235 10.4168 25.3475 9.07101 25.9592C6.64323 27.063 8.65505 32.3263 8.41581 32.5846C6.76557 31.7772 2.99477 27.0195 1.14063 29.4826C-0.759725 32.0083 3.68259 34.7405 5.16155 36.3337C5.30564 36.4886 4.79181 36.3527 4.59607 36.263C0.123844 34.0119 -1.9206 37.2743 2.33413 39.9386C3.50316 40.67 4.66675 40.95 5.63188 41.6596C7.24134 42.8449 8.94051 44.661 11.3819 43.897C14.4757 43.318 16.7649 41.2545 17.1129 37.3967C17.2542 35.8198 20.5112 34.7351 19.4428 32.1605Z" fill="#CC6017"/>
					<path d="M13.7036 34.825C12.1567 35.8825 11.6782 37.5246 11.613 39.3162C11.6021 39.7865 10.9387 39.9007 10.7702 39.463C9.94098 37.405 11.1997 34.6183 13.4997 34.3084C13.7906 34.2622 13.9456 34.6591 13.7036 34.8222V34.825Z" fill="#994110"/>
					<path d="M88.0214 41.8093C88.3666 45.6671 90.6558 47.7278 93.7523 48.3096C96.1937 49.0736 97.8929 47.2575 99.5023 46.0722C100.467 45.3626 101.631 45.0826 102.8 44.3512C107.055 41.6869 105.01 38.4245 100.538 40.6756C100.342 40.7653 99.8286 40.9012 99.9727 40.7463C101.452 39.1531 105.897 36.4209 103.994 33.8952C102.139 31.4321 98.3686 36.1898 96.7184 36.9972C96.4819 36.7389 98.491 31.4783 96.0632 30.3718C94.7202 29.7601 93.4125 30.7361 92.8307 31.9106C92.2027 32.7398 91.5529 39.1123 90.8026 38.0357C89.8456 36.6329 86.9203 34.0094 85.6915 36.5731C84.623 39.145 87.88 40.2324 88.0214 41.8093Z" fill="#CC6017"/>
					<path d="M91.6318 38.7236C93.9318 39.0335 95.1905 41.8174 94.3613 43.8782C94.2009 44.3078 93.5457 44.2017 93.5212 43.7504C93.4614 42.8669 93.3717 41.9996 93.0373 41.1976C92.7111 40.382 92.1483 39.7839 91.4279 39.2401C91.1832 39.0743 91.3436 38.6774 91.6318 38.7263V38.7236Z" fill="#994110"/>
					<path d="M34.2976 56.5906C23.3876 56.4846 16.0743 50.4763 9.94914 44.0739L9.93826 44.063C13.4046 43.9216 16.0498 41.7304 16.7458 39.2944C16.7458 39.9768 17.1863 41.6461 15.8351 42.7852C14.6416 43.7911 13.6955 44.4246 12.4993 44.8052C12.5482 44.8405 24.2793 56.5091 35.3035 55.1334C35.0915 64.7467 35.0017 67.43 38.0086 77.3994C34.8114 71.0459 33.7756 63.825 34.3003 56.5906H34.2976Z" fill="#F99C2D"/>
					<path d="M83.4649 70.3387C70.6925 66.3776 68.4333 63.0771 67.6857 58.0747C73.5444 59.4259 85.7431 56.0711 92.7138 48.9291C91.803 48.8557 90.9439 48.4969 90.0332 47.8362C88.6004 46.795 88.2932 44.0681 88.2932 43.3857C88.9811 45.7972 91.8656 48.2658 95.2829 48.4506C95.3509 48.4452 95.4243 48.4425 95.5004 48.4398C88.4428 54.4616 79.6587 60.5623 69.2108 59.706C71.5163 66.4184 78.0085 67.5086 83.4649 70.3387Z" fill="#F99C2D"/>
					<path d="M87.0834 84.4814C87.0834 84.4814 78.438 83.9757 73.8787 84.5521C68.9308 85.1801 66.6416 87.3931 62.3624 87.9423C59.9646 88.2495 55.9763 87.4529 54.829 86.5557C57.0039 86.9717 61.2532 87.5997 67.2588 85.017C73.2616 82.4315 82.9455 83.0106 87.0834 84.4814Z" fill="#F99C2D"/>
					<path d="M61.1065 56.0003C60.8156 54.8204 60.1631 53.8199 59.7635 52.8249C62.8709 52.2703 71.7664 47.3467 78.226 46.3408C76.2604 50.2394 69.7057 53.6296 61.1065 56.0003Z" fill="#F99C2D"/>
					<path d="M38.1663 52.5041C37.976 53.3714 38.0059 54.2114 38.0168 55.1711C35.2193 53.5997 24.6518 50.3509 23.1837 41.73L31.5817 44.0762C33.2808 44.8755 36.2687 51.925 38.1663 52.5041Z" fill="#F99C2D"/>
					<path d="M60.1631 53.8173C60.3616 54.3556 60.5192 54.7281 61.1065 55.9977C54.0434 58.2759 44.8841 58.5261 38.0168 55.1685C38.0168 54.7281 37.9434 53.4883 38.1663 52.5015C45.7895 54.2115 52.6324 55.1413 60.1631 53.8173Z" fill="#FFAB3D"/>
					<path d="M35.7059 15.8374C33.3135 9.8373 23.8198 2.79321 19.44 5.03068C17.2488 6.14806 14.8482 20.6332 22.0038 25.7524C24.6789 27.6637 27.7483 28.0633 27.7483 28.0633L35.7086 15.8374H35.7059Z" fill="#CC6017"/>
					<path d="M28.2105 27.1335C21.9766 25.7443 16.8383 19.9617 19.2226 7.92065C19.3177 7.44488 19.7364 7.09961 20.2203 7.10504C24.0672 7.14311 27.403 10.8541 29.4964 15.1115C31.375 18.934 31.1303 21.4841 30.3447 23.7488C29.6351 24.6976 28.2105 27.1335 28.2105 27.1335Z" fill="#FF8845"/>
					<path d="M29.4964 15.1117C22.5801 11.523 25.3477 24.9125 29.1077 25.7308C29.8798 24.3035 30.9074 22.8354 30.9074 22.8354C30.9074 22.8354 31.3587 17.2214 29.4991 15.1117H29.4964Z" fill="#E86531"/>
					<path d="M70.1869 17.5692C73.3623 11.9443 83.7177 6.24321 87.7577 9.04617C89.7804 10.449 90.2126 25.1244 82.4318 29.2351C79.5255 30.7711 76.4289 30.7548 76.4289 30.7548L70.1841 17.5719L70.1869 17.5692Z" fill="#CC6017"/>
					<path d="M76.0973 29.7708C82.4617 29.2298 88.3286 24.1921 87.5864 11.9417C87.5565 11.4578 87.1894 11.0609 86.7055 10.9983C82.8885 10.5171 79.0851 13.7469 76.4371 17.6863C74.061 21.2206 73.9604 23.7788 74.4361 26.1332C75.0125 27.169 76.0945 29.7735 76.0945 29.7735L76.0973 29.7708Z" fill="#FF8845"/>
					<path d="M76.4371 17.6861C83.7721 15.0599 79.2292 27.9546 75.3958 28.2618C74.8222 26.7448 74.0012 25.1516 74.0012 25.1516C74.0012 25.1516 74.2839 19.5838 76.4344 17.6888L76.4371 17.6861Z" fill="#E86531"/>
					<path d="M47.4642 54.5622C41.88 54.2795 30.6519 50.5793 26.7995 46.0256C22.92 41.4392 23.0994 38.4867 24.8883 33.1608C25.5979 31.0484 27.6994 26.8344 29.9722 22.9168C29.9722 22.9168 29.9749 22.9168 29.9749 22.9114C32.0275 19.3744 34.2188 16.0766 35.6434 14.7907C38.6475 12.0775 48.0677 11.4277 52.3007 11.6425C55.3021 11.7947 60.9706 12.6674 65.0622 14.1246C65.0622 14.1246 65.0703 14.1246 65.073 14.1273C66.9326 14.7907 68.4659 15.5737 69.2679 16.4654C71.2009 18.605 71.8724 20.2172 73.9985 25.1434C75.6514 28.9795 78.5821 34.4087 78.6392 40.4441C78.7697 54.5133 53.1435 54.8449 47.4614 54.5568L47.4642 54.5622Z" fill="#FFAC3D"/>
					<path d="M51.5857 37.3884C53.0456 35.4201 55.2097 38.4868 56.1123 39.6232C57.0149 40.7569 61.71 44.5657 65.3204 43.2363C68.9308 41.9069 73.5662 34.8655 75.1321 36.9507C76.6981 39.036 76.3012 54.5324 47.6735 53.0779C33.3515 52.3493 25.5489 43.8127 25.8398 38.0871C25.9921 35.0993 27.7184 31.8451 28.1915 31.8668C28.2132 32.2311 29.105 41.7247 34.2568 41.9857C37.068 42.1298 40.0748 39.6449 41.2357 38.1497C44.1066 34.4441 44.9793 36.7822 44.9793 36.7822" fill="#FFDD99"/>
					<path d="M47.1923 43.3725C46.2136 43.4812 44.1528 45.561 42.8859 45.4658C44.1528 51.3056 49.892 52.1783 52.105 46.4337C49.1905 46.9122 49.4379 43.1196 47.1923 43.3725Z" fill="#863513"/>
					<path d="M40.3684 41.8555C40.4581 42.9185 41.2248 43.9869 42.2389 44.3567C43.9027 44.8297 46.2979 44.4355 46.8362 42.6222L48.4592 42.7717C48.4429 44.7373 50.5471 45.088 52.211 45.1533C53.1081 45.1832 53.9836 45.0119 54.7094 44.4953C55.4163 44.006 55.9193 43.1768 56.0552 42.3041C56.1096 41.9778 56.4141 41.7576 56.7403 41.812C57.6864 41.9887 57.0665 43.6498 56.8273 44.218C56.0253 45.9716 54.0515 46.9285 52.1865 46.8851C50.9876 46.8687 49.7859 46.7437 48.6821 46.1374C47.4642 45.5366 46.6513 44.0332 46.8307 42.6901L48.4538 42.8397C48.0596 45.3218 45.4741 46.3821 43.2665 46.2054C42.1736 46.1782 40.9883 45.7024 40.2488 44.8624C39.4957 44.0168 39.0553 42.9729 39.1396 41.793C39.1641 41.4559 39.4577 41.2003 39.7948 41.2248C40.1319 41.2465 40.3684 41.532 40.3684 41.8555Z" fill="#CC6017"/>
					<path d="M52.1783 39.5599C52.2812 37.5355 50.4196 35.7955 48.0203 35.6736C45.6211 35.5516 43.5926 37.0938 43.4897 39.1182C43.3868 41.1426 45.2484 42.8826 47.6477 43.0045C50.047 43.1265 52.0754 41.5843 52.1783 39.5599Z" fill="#FF8845"/>
					<path d="M45.5502 49.7337C47.5185 50.8919 49.3944 50.3155 50.8571 48.6272C49.2503 47.219 46.3386 47.6811 45.5502 49.7337Z" fill="#E86531"/>
					<path d="M51.5857 37.3887C53.815 35.2545 54.859 39.4549 60.2392 42.6248C67.4519 46.8741 71.8888 34.8304 74.9636 36.7715C74.5639 35.1702 74.4389 30.1896 71.8425 26.5411C71.0813 25.4727 68.3327 21.4681 62.2674 23.0612C59.2687 23.8497 56.5799 28.5448 55.245 31.4157C52.9559 36.3447 51.5857 37.3914 51.5857 37.3914V37.3887Z" fill="#CC6017"/>
					<path d="M71.3042 32.7696C71.3613 36.3719 69.8334 40.3167 63.3168 39.985C59.7172 39.8028 56.898 37.7529 57.4037 33.1502C57.7979 29.567 60.5057 25.6847 64.8501 25.9049C68.4496 26.0871 71.2417 28.6807 71.307 32.7669L71.3042 32.7696Z" fill="#2E2D2C"/>
					<path d="M28.1942 31.8643C28.6537 28.5965 32.1716 20.4459 37.6362 20.7232C43.2992 21.0114 43.881 29.0315 44.3839 33.1557C44.6395 35.2518 44.8869 36.5948 44.8869 36.5948C44.8869 36.5948 44.4764 35.2083 42.8044 36.5323C41.4749 37.5844 38.0684 42.179 34.2623 41.986C30.5894 41.7984 28.757 36.8395 28.1969 31.8671L28.1942 31.8643Z" fill="#CC6017"/>
					<path d="M42.7636 31.4673C42.7853 34.9988 41.4722 38.8784 35.9941 38.5984C32.9682 38.4461 30.6111 36.456 31.0706 31.9403C31.4267 28.4251 33.7321 24.5999 37.3833 24.7848C40.4092 24.937 42.7391 27.4599 42.7636 31.4646V31.4673Z" fill="#2E2D2C"/>
					<path d="M61.3131 33.0767C62.3641 33.0767 63.2162 32.2246 63.2162 31.1736C63.2162 30.1225 62.3641 29.2705 61.3131 29.2705C60.2621 29.2705 59.41 30.1225 59.41 31.1736C59.41 32.2246 60.2621 33.0767 61.3131 33.0767Z" fill="#FEF6DC"/>
					<path d="M38.2044 31.3882C39.2554 31.3882 40.1074 30.5361 40.1074 29.4851C40.1074 28.4341 39.2554 27.582 38.2044 27.582C37.1533 27.582 36.3013 28.4341 36.3013 29.4851C36.3013 30.5361 37.1533 31.3882 38.2044 31.3882Z" fill="#FEF6DC"/>
					<path d="M49.4148 38.2832C49.4402 37.7838 48.7691 37.3439 47.9158 37.3005C47.0626 37.2571 46.3503 37.6268 46.325 38.1261C46.2996 38.6255 46.9707 39.0654 47.8239 39.1088C48.6772 39.1522 49.3894 38.7825 49.4148 38.2832Z" fill="#FFB58A"/>
					<path d="M62.4794 13.3309C55.2641 17.6482 51.6074 26.2093 49.7669 31.421C49.4977 32.1822 48.3722 32.0218 48.326 31.2144C48.0188 25.8232 46.9938 16.9848 43.0028 12.1401C46.7328 11.4686 50.7211 11.5638 52.9206 11.6752C57.5124 11.909 62.4794 13.3309 62.4794 13.3309Z" fill="#CC6017"/>
					<path d="M46.722 20.1547C45.0826 19.6627 42.943 19.1597 41.2384 19.0727C36.3937 18.828 31.8699 19.7904 29.7003 23.4008C29.7928 23.2377 29.8852 23.0773 29.9777 22.9169C29.9777 22.9169 29.9804 22.9169 29.9804 22.9115C31.1548 20.8861 32.3755 18.9395 33.4712 17.4034C37.4078 16.1529 41.7957 15.7804 45.7759 17.1724C46.1402 18.132 46.4528 19.138 46.722 20.1547Z" fill="#F99C2D"/>
					<path d="M55.1227 20.4783C54.8073 20.935 54.5055 21.3999 54.2146 21.8648C51.6156 21.5467 49.0954 20.8616 46.722 20.1548C46.4528 19.1352 46.1402 18.1321 45.7759 17.1724C46.3115 17.3572 46.8362 17.5774 47.35 17.8303C50.1747 19.2114 52.771 20.0406 55.12 20.4783H55.1227Z" fill="#A24C19"/>
					<path d="M65.9267 19.8147C65.4727 20.0812 64.8746 20.3748 64.1079 20.6929C60.7748 22.0875 57.4336 22.2561 54.2119 21.8646C54.5028 21.3997 54.8073 20.9375 55.12 20.4781C59.72 21.3372 63.3711 20.7065 65.9267 19.812V19.8147Z" fill="#F99C2D"/>
					<path d="M60.2727 2.15012C60.4146 1.24222 59.5458 0.352531 58.3324 0.162937C57.1189 -0.026657 56.0201 0.555643 55.8783 1.46354C55.7365 2.37143 56.6052 3.26112 57.8187 3.45071C59.0322 3.64031 60.1309 3.05801 60.2727 2.15012Z" fill="#2271B1"/>
					<path d="M33.6642 17.0958C33.463 17.4167 32.5115 18.8467 29.6976 23.4005C27.1747 23.4276 25.0759 22.9057 24.7143 22.1227C25.9214 20.6927 26.0872 17.0061 33.6642 17.0958Z" fill="#234D79"/>
					<path d="M58.3633 2.00737C45.9662 -0.580807 39.5474 5.97664 35.7195 12.8875C36.13 12.8195 23.915 17.8518 24.7116 22.1229C41.5973 11.9224 45.3762 18.9882 56.8681 20.9674C63.6349 22.1337 70.1651 17.5908 70.1869 17.5691C70.5865 17.058 72.1987 14.8314 73.2698 13.8363C71.3532 8.73066 66.9272 3.51624 58.3633 2.00737Z" fill="#2271B1"/>
					<path d="M70.1869 17.5691C70.1869 17.5691 51.8521 8.09178 35.8554 12.893C40.2379 5.02783 46.219 -0.205621 58.4993 2.01554C68.2457 3.77724 70.1923 17.5745 70.1869 17.5691Z" fill="#3B8DC4"/>
					<path d="M24.7632 21.9434C31.7502 16.4625 38.8623 15.2228 47.4152 17.3678C51.1942 18.3031 54.8046 19.9859 58.7358 20.1925C62.58 20.4943 66.4922 19.6624 69.7736 17.5717C69.8552 17.5201 69.9612 17.5445 70.0102 17.6261C70.0564 17.6995 70.0401 17.7974 69.9721 17.8518C68.4225 19.1078 66.5955 20.0349 64.6652 20.6221C59.7852 22.1282 54.5871 21.1468 49.892 19.4694C43.4759 17.4141 36.3856 16.6284 30.0864 19.4259C28.2893 20.1654 26.5684 21.1115 24.8747 22.1119C24.8258 22.1391 24.7659 22.1255 24.736 22.0766C24.7089 22.0331 24.7224 21.976 24.7605 21.9461L24.7632 21.9434Z" fill="#225E8C"/>
					<path fill-rule="evenodd" clip-rule="evenodd" d="M53.6845 11.1778C53.6247 11.1778 53.5622 11.1751 53.5023 11.1696L49.2232 10.7482C48.7419 10.702 48.3396 10.4709 48.0895 10.1012C47.8339 9.72328 47.7714 9.25295 47.91 8.77174L49.0274 4.93569C49.2802 4.06028 50.1584 3.39964 51.0691 3.39964C51.1126 3.39964 51.1561 3.39964 51.1969 3.40508C51.2458 3.33711 51.3111 3.2773 51.3818 3.23108C51.5204 3.14408 51.6618 3.10059 51.7977 3.10059C51.8195 3.10059 51.8385 3.10059 51.8603 3.1033C52.0397 3.11962 52.2028 3.21477 52.2953 3.35342C52.3306 3.4078 52.3551 3.46217 52.3714 3.51926L54.4648 3.72588C54.5137 3.66063 54.5762 3.60082 54.6442 3.55189C54.772 3.46761 54.9188 3.42139 55.0629 3.42139C55.0846 3.42139 55.1064 3.42139 55.1254 3.42411C55.3076 3.44042 55.4707 3.53829 55.5658 3.67966C55.6012 3.73132 55.6256 3.78841 55.6419 3.8455C56.0715 3.91619 56.4304 4.1364 56.6614 4.47624C56.917 4.85141 56.9795 5.32446 56.8409 5.80295L55.7235 9.64172C55.468 10.5171 54.5898 11.1778 53.6791 11.1778H53.6845ZM49.4597 8.66572C49.408 8.84515 49.4271 9.01642 49.5168 9.14964C49.6038 9.27742 49.7479 9.35626 49.9246 9.37529L53.4099 9.71784C53.4344 9.71784 53.4589 9.72056 53.486 9.72056C53.6655 9.72056 53.8422 9.66347 54.0026 9.552C54.1902 9.42151 54.3261 9.24479 54.3805 9.04905C54.3859 9.0273 54.3968 9.00283 54.4077 8.9838L54.8916 7.31997C54.8997 7.2955 54.9025 7.26016 54.8862 7.23297C54.878 7.21938 54.8508 7.20851 54.8128 7.20579L51.6618 6.89586C51.4797 6.87683 51.322 6.78167 51.2241 6.63758C51.1262 6.49078 51.099 6.30591 51.1507 6.12919C51.2431 5.81654 51.5449 5.58817 51.8711 5.58817C51.8929 5.58817 51.9146 5.58817 51.9337 5.59089L55.2912 5.92257L55.3782 5.62624C55.4081 5.52293 55.3973 5.42234 55.3483 5.34893C55.3266 5.31903 55.3021 5.29456 55.2695 5.27553C55.1417 5.43321 54.9433 5.5338 54.7366 5.5338C54.7149 5.5338 54.6958 5.5338 54.6741 5.53108L54.5871 5.52565C54.4131 5.50661 54.2636 5.41962 54.1739 5.2864C54.1385 5.23475 54.1141 5.18037 54.1005 5.12056L52.0261 4.91394C51.9011 5.09338 51.6863 5.213 51.4606 5.213C51.4389 5.213 51.4198 5.213 51.3981 5.21028L51.3057 5.20212C51.1371 5.18581 50.9903 5.09881 50.9006 4.9656C50.8761 4.93025 50.8571 4.89491 50.8435 4.85685C50.7918 4.87316 50.7429 4.90035 50.6967 4.93026C50.5825 5.0091 50.4955 5.126 50.4574 5.24562L49.8729 7.252C49.8675 7.27103 49.8593 7.3091 49.8784 7.33628C49.8838 7.34172 49.8974 7.36347 49.9518 7.36891L53.1054 7.67884C53.2849 7.69515 53.4425 7.78758 53.5404 7.93439C53.641 8.0812 53.6682 8.26607 53.6165 8.4455C53.5268 8.75815 53.225 8.98652 52.9015 8.98652C52.8771 8.98652 52.8526 8.98652 52.8281 8.9838L49.4651 8.65212L49.4597 8.66843V8.66572Z" fill="#FF8845"/>
					<path d="M51.8005 3.37235C51.8005 3.37235 51.8249 3.37235 51.8358 3.37235C51.9364 3.38322 52.0261 3.43488 52.0723 3.50556C52.1213 3.57897 52.1403 3.66597 52.1077 3.76656L54.6197 4.01396C54.6469 3.92424 54.7149 3.83452 54.8019 3.77743C54.878 3.72578 54.9759 3.69315 55.0656 3.69315C55.0792 3.69315 55.0901 3.69315 55.1037 3.69315C55.2042 3.70403 55.294 3.75568 55.3402 3.82637C55.3891 3.89977 55.4054 3.98405 55.3755 4.08464L55.5006 4.09824C56.3352 4.1798 56.8164 4.9084 56.5799 5.72672L55.4625 9.56549C55.2396 10.3322 54.4621 10.9031 53.6791 10.9031C53.6274 10.9031 53.5758 10.9031 53.5241 10.8949L49.2449 10.4735C48.413 10.392 47.9291 9.66337 48.1683 8.84233L49.2857 5.00627C49.5086 4.23961 50.2834 3.66597 51.0664 3.66597C51.1181 3.66597 51.1697 3.66597 51.2214 3.67412L51.3464 3.685C51.3736 3.59528 51.4416 3.50828 51.5313 3.44847C51.6156 3.39682 51.7053 3.36419 51.795 3.36419M52.9015 8.71455C52.8879 8.71455 52.8716 8.71455 52.858 8.71455L49.321 8.36656C49.2938 8.36656 49.2531 8.41821 49.2531 8.41821L49.2014 8.59221C49.0464 9.12235 49.3618 9.5954 49.9001 9.64705L53.3855 9.99233C53.4181 9.99504 53.4534 9.99776 53.486 9.99776C53.7171 9.99776 53.9509 9.92436 54.1576 9.78027C54.3968 9.61715 54.5681 9.38606 54.6415 9.1305H54.6496L55.1526 7.40143C55.1825 7.2954 55.1743 7.18393 55.1145 7.0915C55.052 7.00178 54.9541 6.95013 54.8372 6.93925L51.689 6.62932C51.4797 6.60757 51.3519 6.41727 51.4117 6.20793C51.4715 6.00675 51.6727 5.86537 51.8712 5.86537C51.8847 5.86537 51.8956 5.86537 51.9092 5.86537L55.4408 6.21336C55.4652 6.21336 55.5033 6.15899 55.5033 6.15899L55.6365 5.70497C55.7453 5.33251 55.5278 4.9954 55.1417 4.95734H55.1336L55.1308 4.96549C55.0819 5.13405 54.9079 5.26183 54.7339 5.26183C54.723 5.26183 54.7095 5.26183 54.6986 5.26183L54.6061 5.25367C54.4213 5.23464 54.3125 5.07152 54.3669 4.88937C54.3696 4.87306 54.3533 4.87306 54.3533 4.87306L51.8766 4.62838C51.8603 4.62838 51.8548 4.64469 51.8548 4.64469C51.8032 4.81325 51.6292 4.94374 51.4552 4.94374C51.4443 4.94374 51.4334 4.94374 51.4199 4.94374L51.3274 4.93559C51.1398 4.91656 51.0338 4.75344 51.0855 4.57128V4.56313H51.08C51.0555 4.56313 51.0311 4.56041 51.0066 4.56041C50.8408 4.56041 50.6722 4.61478 50.5336 4.71266C50.3704 4.82412 50.2454 4.99268 50.191 5.17211L49.6065 7.18121C49.5739 7.28996 49.5847 7.40143 49.6446 7.49114C49.7044 7.58358 49.805 7.63523 49.9219 7.64611L53.0701 7.95604C53.2794 7.97507 53.4072 8.16809 53.3474 8.37471C53.2903 8.57589 53.0973 8.71727 52.8934 8.71727M51.8005 2.82861C51.6129 2.82861 51.4226 2.88571 51.2486 2.99445C51.2431 2.99717 51.2377 3.00261 51.2323 3.00533C51.1779 3.04339 51.1262 3.08417 51.08 3.13039H51.0691C50.0415 3.13039 49.0492 3.8753 48.7637 4.86218L47.6463 8.69552C47.4859 9.24741 47.5648 9.81561 47.8611 10.2533C48.1574 10.691 48.6305 10.9629 49.1933 11.02L53.4725 11.4414C53.5404 11.4468 53.6111 11.4523 53.6818 11.4523C54.7095 11.4523 55.699 10.7073 55.9872 9.72318L57.1046 5.88441C57.265 5.33251 57.1862 4.76703 56.8871 4.3266C56.6424 3.96502 56.2754 3.71762 55.8404 3.61159C55.8268 3.58441 55.8105 3.55994 55.7942 3.53275C55.6556 3.32341 55.4163 3.18204 55.1553 3.15485C55.1254 3.15214 55.0955 3.14942 55.0656 3.14942C54.8671 3.14942 54.666 3.21195 54.4974 3.32613C54.4457 3.36147 54.3995 3.39954 54.356 3.44303L52.5617 3.26632C52.5508 3.24729 52.5399 3.22826 52.5264 3.20923C52.3823 2.99717 52.1457 2.86124 51.8875 2.83405C51.8576 2.83133 51.8277 2.82861 51.7977 2.82861H51.8005ZM51.9826 5.32436C52.037 5.28902 52.0886 5.24552 52.1376 5.1993L53.9102 5.37601C53.921 5.39776 53.9346 5.41951 53.9482 5.43854C53.97 5.46845 53.9917 5.49835 54.0162 5.52554L51.9826 5.32436ZM50.1937 7.1214L50.7184 5.31892C50.7266 5.29173 50.7429 5.25911 50.7674 5.23192C50.9006 5.36786 51.08 5.45214 51.2785 5.47389L51.3301 5.47932C51.1235 5.60982 50.9604 5.81372 50.8897 6.05296C50.8163 6.31124 50.8544 6.57767 50.9985 6.79244C51.1398 7.0045 51.3709 7.14043 51.6292 7.16762L54.5681 7.45852L54.1521 8.88854C54.1385 8.91845 54.1249 8.94835 54.1168 8.98098C54.0787 9.11419 53.9808 9.24197 53.8476 9.33441C53.7334 9.41325 53.6084 9.45675 53.4833 9.45675C53.467 9.45675 53.4507 9.45675 53.4344 9.45675L49.949 9.11419C49.8838 9.10876 49.7914 9.08429 49.7397 9.00816C49.7288 8.99185 49.7207 8.97554 49.7152 8.95923L52.8009 9.26372C52.8308 9.26644 52.8662 9.26916 52.8988 9.26916C53.3474 9.26916 53.747 8.96738 53.8748 8.5324C53.9482 8.27684 53.9074 8.00769 53.7634 7.79292C53.6193 7.58086 53.3882 7.44493 53.1272 7.42046L50.1937 7.13228V7.1214Z" fill="#2271B1"/>
					<path fill-rule="evenodd" clip-rule="evenodd" d="M53.6165 10.8048C53.5595 10.8048 53.5051 10.8021 53.448 10.7967L49.1688 10.3753C48.7284 10.3318 48.3613 10.1224 48.1357 9.78805C47.9046 9.44549 47.8475 9.01322 47.9753 8.5728L49.0927 4.73675C49.3292 3.91842 50.153 3.29857 51.0066 3.29857C51.0637 3.29857 51.1181 3.30128 51.1752 3.30672H51.2051C51.2513 3.2306 51.3165 3.15991 51.3981 3.10554C51.5123 3.03485 51.6265 2.99951 51.7379 2.99951C51.7543 2.99951 51.7706 2.99951 51.7869 2.99951C51.9255 3.01311 52.0506 3.08379 52.124 3.18982C52.1702 3.25779 52.1947 3.33119 52.1974 3.40459L54.4729 3.63024C54.5191 3.5514 54.5844 3.48072 54.6605 3.42634C54.7638 3.35838 54.8862 3.32032 55.0031 3.32032C55.0194 3.32032 55.0357 3.32032 55.0547 3.32032C55.1961 3.33391 55.3212 3.40731 55.3918 3.51606C55.4353 3.58131 55.4598 3.65199 55.4625 3.72812C55.8975 3.77433 56.2618 3.98095 56.4875 4.31535C56.7186 4.6579 56.7784 5.09017 56.6506 5.52788L55.5332 9.36665C55.294 10.185 54.4702 10.8048 53.6193 10.8048H53.6165ZM49.2612 8.39065C49.1987 8.61086 49.2259 8.82292 49.3374 8.98875C49.4461 9.15188 49.6255 9.25247 49.843 9.27422L53.3284 9.61677C53.3583 9.61949 53.3882 9.62221 53.4181 9.62221C53.6247 9.62221 53.8286 9.55424 54.0108 9.42918C54.2255 9.28237 54.3778 9.07847 54.443 8.85282C54.4485 8.83651 54.4566 8.8202 54.4648 8.8066L54.9541 7.12374C54.9759 7.05034 54.9677 6.97965 54.9324 6.92528C54.8889 6.86003 54.8128 6.841 54.7584 6.83556L51.6074 6.52563C51.4661 6.50932 51.3437 6.43864 51.2703 6.32717C51.1942 6.21571 51.1725 6.0689 51.2132 5.93024C51.2866 5.67741 51.5395 5.4871 51.8032 5.4871C51.8195 5.4871 51.8358 5.4871 51.8548 5.4871L55.3239 5.82965L55.4435 5.42457C55.4843 5.28048 55.468 5.14183 55.3946 5.03308C55.3402 4.95152 55.2559 4.89443 55.1526 4.86724C55.0574 5.04124 54.8671 5.15814 54.6687 5.15814C54.6524 5.15814 54.636 5.15814 54.6197 5.15814L54.53 5.1527C54.3995 5.13911 54.2853 5.07386 54.2201 4.97327C54.1766 4.91074 54.1548 4.83462 54.1521 4.7585L51.8847 4.53284C51.7923 4.71228 51.5938 4.84006 51.3899 4.84006C51.3736 4.84006 51.3573 4.84006 51.341 4.84006L51.2486 4.8319C51.1181 4.81831 51.0093 4.75578 50.9414 4.65519C50.9033 4.59809 50.8788 4.53013 50.8734 4.45944C50.7592 4.47303 50.645 4.51653 50.5472 4.5845C50.4058 4.67965 50.3025 4.82102 50.2563 4.97055L49.6717 6.97965C49.65 7.05306 49.6582 7.12374 49.6935 7.17812C49.7288 7.23249 49.7887 7.26511 49.8675 7.27327L53.0184 7.5832C53.1571 7.59679 53.2794 7.66748 53.3556 7.77894C53.4317 7.89313 53.4534 8.03722 53.4126 8.17587C53.3392 8.43143 53.0918 8.61902 52.8281 8.61902C52.8091 8.61902 52.7901 8.61902 52.771 8.6163L49.2939 8.27374L49.2585 8.3988L49.2612 8.39065Z" fill="#FF8845"/>
					<path d="M51.7325 3.13564C51.7325 3.13564 51.757 3.13564 51.7678 3.13564C51.8684 3.14651 51.9581 3.19817 52.0071 3.26885C52.056 3.34226 52.0751 3.42925 52.0424 3.52985L54.5545 3.77724C54.5817 3.68753 54.6496 3.59781 54.7366 3.54072C54.8128 3.48907 54.9106 3.45644 55.0004 3.45644C55.0139 3.45644 55.0248 3.45644 55.0384 3.45644C55.139 3.46732 55.2287 3.51897 55.2749 3.58966C55.3239 3.66306 55.3402 3.74734 55.3103 3.84793L55.4353 3.86152C56.27 3.94308 56.7512 4.67169 56.5147 5.49001L55.3973 9.32878C55.1743 10.0954 54.3968 10.6664 53.6138 10.6664C53.5622 10.6664 53.5105 10.6664 53.4589 10.6582L49.1797 10.2368C48.3477 10.1553 47.8638 9.42665 48.1031 8.60561L49.2204 4.76956C49.4434 4.00289 50.2182 3.42925 51.0012 3.42925C51.0528 3.42925 51.1045 3.42925 51.1561 3.43741L51.2839 3.44829C51.3111 3.35857 51.3791 3.27157 51.4688 3.21176C51.5531 3.16011 51.6428 3.12748 51.7325 3.12748M52.8336 8.47784C52.82 8.47784 52.8037 8.47784 52.7901 8.47784L49.2531 8.12985C49.2259 8.12985 49.1851 8.1815 49.1851 8.1815L49.1334 8.3555C48.9785 8.88564 49.2938 9.35869 49.8321 9.41034L53.3175 9.75561C53.3501 9.75833 53.3855 9.76105 53.4181 9.76105C53.6492 9.76105 53.883 9.68765 54.0896 9.54356C54.3288 9.38044 54.5001 9.14935 54.5735 8.89379H54.5817L55.0846 7.16471C55.1173 7.05869 55.1064 6.94722 55.0466 6.85479C54.984 6.76507 54.8862 6.71342 54.7693 6.70254L51.621 6.39261C51.4117 6.37086 51.2839 6.18055 51.3437 5.97122C51.4035 5.77003 51.6047 5.62866 51.8032 5.62866C51.8168 5.62866 51.8277 5.62866 51.8412 5.62866L55.3728 5.97665C55.3973 5.97665 55.4353 5.92228 55.4353 5.92228L55.5686 5.46826C55.6773 5.0958 55.4598 4.75869 55.0738 4.72063H55.0656L55.0629 4.72878C55.0139 4.89734 54.8399 5.02512 54.666 5.02512C54.6551 5.02512 54.6415 5.02512 54.6306 5.02512L54.5382 5.01696C54.3533 4.99793 54.2446 4.83481 54.2989 4.65266C54.3017 4.63635 54.2853 4.63635 54.2853 4.63635L51.8086 4.39167C51.7923 4.39167 51.7869 4.40798 51.7869 4.40798C51.7352 4.57654 51.5612 4.70703 51.3872 4.70703C51.3764 4.70703 51.3655 4.70703 51.3519 4.70703L51.2594 4.69888C51.0719 4.67985 50.9658 4.51672 51.0175 4.33457V4.32642H51.012C50.9876 4.32642 50.9631 4.3237 50.9386 4.3237C50.7728 4.3237 50.607 4.37807 50.4656 4.47594C50.3025 4.58741 50.1774 4.75597 50.123 4.9354L49.5385 6.9445C49.5059 7.05325 49.5168 7.16471 49.5766 7.25443C49.6364 7.34687 49.737 7.39852 49.8539 7.4094L53.0021 7.71933C53.2115 7.73836 53.3392 7.93138 53.2794 8.138C53.2223 8.33918 53.0293 8.48055 52.8254 8.48055M51.7325 2.86377C51.5966 2.86377 51.4552 2.90727 51.3247 2.98883C51.2486 3.04048 51.1833 3.10029 51.1317 3.16826C51.0882 3.16554 51.0447 3.16282 51.0012 3.16282C50.0904 3.16282 49.2123 3.82346 48.9567 4.69888L47.8394 8.53493C47.7007 9.01613 47.7632 9.48646 48.0188 9.86436C48.2689 10.2341 48.6713 10.4652 49.1525 10.5114L53.4317 10.9328C53.4915 10.9382 53.554 10.941 53.6138 10.941C54.5246 10.941 55.4027 10.2803 55.6583 9.40762L56.7756 5.56885C56.9143 5.08765 56.8518 4.61732 56.5962 4.23942C56.3651 3.89959 56.0063 3.67937 55.5767 3.60869C55.5604 3.55159 55.5359 3.4945 55.5006 3.44285C55.4082 3.30148 55.2423 3.20632 55.0629 3.18729C55.0411 3.18729 55.0194 3.18457 54.9976 3.18457C54.8535 3.18457 54.704 3.23079 54.5817 3.31507C54.511 3.36401 54.4485 3.42382 54.3995 3.48907L52.3061 3.28245C52.2898 3.22535 52.2654 3.17098 52.23 3.11933C52.1321 2.97795 51.969 2.8828 51.7923 2.86649C51.7706 2.86649 51.7515 2.86377 51.7298 2.86377H51.7325ZM52.8336 8.7497C53.1571 8.7497 53.4561 8.52405 53.5486 8.20869C53.6002 8.03197 53.573 7.84438 53.4725 7.69758C53.3746 7.55349 53.2142 7.46105 53.0347 7.44202L49.8865 7.13209C49.8294 7.12665 49.8158 7.1049 49.8104 7.09675C49.7941 7.06956 49.7995 7.0315 49.8077 7.01247L50.3922 5.00337C50.4275 4.88646 50.5145 4.76956 50.6287 4.69072C50.6749 4.6581 50.7266 4.63363 50.7782 4.6146C50.7918 4.65266 50.8109 4.69072 50.8353 4.72334C50.9251 4.85656 51.0746 4.94084 51.2404 4.95987L51.3329 4.96802C51.3546 4.96802 51.3736 4.97074 51.3954 4.97074C51.6183 4.97074 51.8331 4.85112 51.9609 4.67169L54.0379 4.87831C54.0542 4.93812 54.0787 4.99249 54.1113 5.04415C54.2011 5.17736 54.3506 5.26436 54.5191 5.28339L54.6197 5.29155C54.6333 5.29155 54.6551 5.29155 54.6741 5.29155C54.8834 5.29155 55.0792 5.19096 55.207 5.03327C55.2369 5.0523 55.2641 5.07677 55.2831 5.10668C55.332 5.18008 55.3429 5.27795 55.313 5.38398L55.226 5.68032L51.8712 5.34864C51.8494 5.34864 51.8277 5.34592 51.8059 5.34592C51.4797 5.34592 51.1779 5.57157 51.0855 5.88422C51.0338 6.06365 51.061 6.24852 51.1589 6.39533C51.2567 6.53942 51.4144 6.63457 51.5938 6.6536L54.7448 6.96353C54.7829 6.96625 54.81 6.97985 54.8236 6.99888C54.8372 7.02063 54.8318 7.05597 54.8236 7.08044L54.3397 8.74698C54.3288 8.76602 54.318 8.78776 54.3125 8.80951C54.2554 9.00526 54.1222 9.18197 53.9346 9.31247C53.7742 9.42394 53.5975 9.48103 53.4181 9.48103C53.3936 9.48103 53.3664 9.48103 53.342 9.47831L49.8566 9.13304C49.6799 9.11672 49.5358 9.03516 49.4488 8.90739C49.3591 8.77417 49.3373 8.60289 49.3917 8.42346L49.3972 8.40987L52.7629 8.74155C52.7846 8.74155 52.8091 8.74427 52.8336 8.74427V8.7497Z" fill="white"/>
					<path fill-rule="evenodd" clip-rule="evenodd" d="M55.5713 5.46849L55.438 5.92251C55.438 5.92251 55.3973 5.9796 55.3728 5.97688L51.8412 5.62889C51.6319 5.60986 51.4063 5.75667 51.3437 5.97144C51.2839 6.18078 51.4117 6.37109 51.621 6.39284L54.7693 6.70277C54.8862 6.71364 54.984 6.7653 55.0466 6.85501C55.1064 6.94745 55.1172 7.05891 55.0846 7.16494L54.5817 8.89402H54.5735C54.5001 9.14958 54.3288 9.38066 54.0896 9.54378C53.8531 9.7069 53.5785 9.78031 53.3175 9.75584L49.8321 9.41057C49.2938 9.35619 48.9785 8.88586 49.1334 8.35572L49.1851 8.18173C49.1851 8.18173 49.2286 8.12735 49.2531 8.13007L52.7901 8.47806C53.0076 8.49981 53.225 8.353 53.2876 8.13551C53.3474 7.92889 53.2196 7.73586 53.0103 7.71683L49.862 7.4069C49.7451 7.39603 49.6473 7.34437 49.5847 7.25194C49.5249 7.16222 49.5141 7.05076 49.5467 6.94201L50.1312 4.93291C50.1856 4.75348 50.3106 4.58492 50.4737 4.47345C50.6341 4.36199 50.8326 4.30489 51.0202 4.32392H51.0284C51.0284 4.32392 51.0284 4.32392 51.0284 4.33208C50.9767 4.51423 51.0827 4.67735 51.2703 4.69638L51.3628 4.70454C51.5476 4.72357 51.7434 4.58764 51.7977 4.40548C51.7977 4.40548 51.8032 4.38917 51.8195 4.38917L54.2962 4.63385C54.2962 4.63385 54.3125 4.63385 54.3098 4.65017C54.2554 4.83232 54.3642 4.99544 54.549 5.01447L54.6415 5.02262C54.8263 5.04166 55.0221 4.90844 55.0737 4.72629V4.71813C55.0737 4.71813 55.0765 4.71813 55.0846 4.71813C55.4707 4.75619 55.6854 5.09331 55.5794 5.46577L55.5713 5.46849Z" fill="white"/>
					<path d="M61.8408 32.896C62.8918 32.896 63.7439 32.044 63.7439 30.9929C63.7439 29.9419 62.8918 29.0898 61.8408 29.0898C60.7898 29.0898 59.9377 29.9419 59.9377 30.9929C59.9377 32.044 60.7898 32.896 61.8408 32.896Z" fill="#FEF6DC"/>
					<path d="M38.7321 31.5366C39.7831 31.5366 40.6351 30.6846 40.6351 29.6335C40.6351 28.5825 39.7831 27.7305 38.7321 27.7305C37.681 27.7305 36.829 28.5825 36.829 29.6335C36.829 30.6846 37.681 31.5366 38.7321 31.5366Z" fill="#FEF6DC"/>
					<path d="M82.951 42.7006C82.7118 43.5189 82.4535 44.4731 82.0946 45.4383C81.173 45.6802 80.2568 45.8977 79.3787 46.0908C78.3782 46.3137 77.4267 46.5067 76.5757 46.6644C76.9047 46.2403 77.201 45.7944 77.4593 45.3268C77.9133 44.4976 78.2504 43.5977 78.4462 42.619C79.6859 42.3118 81.1757 42.2737 82.951 42.7006Z" fill="#2271B1"/>
					<path d="M80.0665 44.8972C79.8517 45.3376 79.6206 45.7345 79.3787 46.0907C78.3782 46.3136 77.4267 46.5066 76.5757 46.6643C76.9047 46.2402 77.201 45.7943 77.4593 45.3267C78.2178 45.0358 79.0823 44.8809 80.0665 44.8972Z" fill="#225E8C"/>
					<path d="M59.7879 53.8555C59.043 55.8266 60.889 55.5628 63.3902 60.0459C59.2551 62.9685 48.0568 68.2264 45.8411 69.1426C45.4415 69.3085 44.9874 69.2269 44.6612 68.9442C41.3933 66.1004 38.3049 63.7678 36.3611 59.456C36.0838 58.8416 35.8472 58.3033 35.6515 57.8329C36.5215 55.9679 37.3915 54.2688 38.1853 52.8496C42.266 54.1519 46.6023 55.0273 49.2585 55.0273C50.8978 55.0273 55.0629 54.6603 59.7879 53.8555Z" fill="#FFAB3D"/>
					<path d="M33.5282 51.104C34.9555 51.7347 36.5487 52.3274 38.1853 52.8494C37.3915 54.2685 36.5215 55.9677 35.6515 57.8327C34.1617 54.2849 34.7788 54.5893 34.7788 54.5893C34.7788 54.5893 33.5364 53.3931 33.5282 51.104Z" fill="#FFAB3D"/>
					<path d="M78.1227 46.3599C76.4616 49.296 67.0006 58.1589 63.3902 60.0457C60.8536 55.7964 59.043 55.8263 59.7879 53.8553C63.3902 53.2436 73.1774 51.6395 76.5703 46.6671C77.3832 46.5638 77.375 46.4876 78.1227 46.3599Z" fill="#F99C2D"/>
					<path d="M44.9902 68.5386C44.615 68.6501 44.2126 68.5604 43.9163 68.3021C40.6376 65.4529 37.5899 63.2753 35.6379 58.9417C33.2645 53.6838 34.0556 54.0753 34.0556 54.0753C34.0556 54.0753 31.0189 51.6094 31.0107 49.3203C36.9266 53.9665 44.8597 54.6245 48.5815 54.6245C52.0179 54.6245 67.1528 54.4586 75.6188 47.8169C70.6762 56.6798 51.6672 66.5323 44.9902 68.5386Z" fill="#2271B1"/>
					<path d="M68.9961 53.279C64.7005 56.0548 54.8209 56.9546 48.1085 56.9546C42.2361 56.9546 35.5862 54.69 31.9704 51.8952C31.4539 51.4955 31.4104 49.6849 31.008 49.3233C35.1812 51.1611 41.5782 54.5432 48.886 54.6302C56.1938 54.7172 67.6829 53.4285 75.2028 48.1353C74.0963 49.7257 70.1325 52.5449 68.9933 53.2817L68.9961 53.279Z" fill="#225E8C"/>
					<path d="M31.182 49.4131C32.3728 53.1051 36.1218 55.5818 39.0172 57.9334C39.2619 58.1074 39.0444 58.5071 38.7644 58.3875C35.4068 56.9683 31.0053 53.3824 31.0026 49.4348C31.0026 49.3343 31.1575 49.3125 31.182 49.4131Z" fill="#225E8C"/>
					<path d="M72.8484 50.2802C72.5738 51.0496 72.041 51.5416 71.519 52.1044C71.0052 52.6209 70.4669 53.1049 69.9095 53.5643C67.6829 55.3967 65.2796 56.9926 62.7241 58.3274C61.43 58.9799 60.1087 59.6052 58.6732 59.9043C58.4258 59.9505 58.3117 59.5835 58.5591 59.4938C61.1337 58.3954 63.5179 56.7968 65.875 55.2825C67.0576 54.505 68.2212 53.7003 69.3604 52.8683C70.4125 52.0364 71.674 51.2562 72.427 50.1442C72.5249 49.8805 72.93 50.0056 72.8457 50.2829L72.8484 50.2802Z" fill="#225E8C"/>
				</svg>
			</div>
		</div>
		<?php
	}

	/**
	 * Output setting fields.
	 *
	 * @since 3.0.0
	 *
	 * @param string $section Section id.
	 */
	protected function display_tab( $section = '' ) {

		// License heading.
		UI::heading(
			[
				'title'       => esc_html__( 'License', 'sugar-calendar-lite' ),
				'description' => esc_html__( 'Your license key provides access to updates and support. ', 'sugar-calendar-lite' ),
			]
		);

		if ( ! sugar_calendar()->is_pro() ) {
			$this->display_lite_education();
		}

		/**
		 * Filter the output for license key setting controls.
		 *
		 * @since 3.0.0
		 *
		 * @param null|string $output Control output.
		 */
		$license_key_settings = apply_filters( 'sugar_calendar_admin_pages_settings_general_tab_license_key', null );

		UI::field_wrapper(
			[
				'label' => esc_html__( 'License Key', 'sugar-calendar-lite' ),
				'type'  => 'password',
				'id'    => 'license-key',
			],
			$license_key_settings ?? $this->display_license_key_settings()
		);

		// Display heading.
		UI::heading(
			[
				'title' => esc_html__( 'Display', 'sugar-calendar-lite' ),
			]
		);

		// Maximum events.
		$events_max_num = sc_get_number_of_events();

		UI::number_input(
			[
				'id'          => 'number_of_events',
				'name'        => 'number_of_events',
				'value'       => absint( $events_max_num ),
				'label'       => esc_html__( 'Maximum Events', 'sugar-calendar-lite' ),
				'description' => __( 'Number of events to include in any theme-side calendar. Default <strong>30</strong>. Use <strong>0</strong> for no limit.', 'sugar-calendar-lite' ),
			]
		);

		// Start of the week.
		global $wp_locale;

		$start_of_week = sc_get_week_start_day();

		UI::select_input(
			[
				'id'          => 'start_of_week',
				'name'        => 'start_of_week',
				'options'     => array_map( fn( $day ) => $wp_locale->get_weekday( $day ), range( 0, 6 ) ),
				'value'       => $start_of_week,
				'label'       => esc_html__( 'Start of Week', 'sugar-calendar-lite' ),
				'description' => esc_html__( 'Select the first day of the week.', 'sugar-calendar-lite' ),
			]
		);

		// Date format.
		/**
		 * Filters the default date formats.
		 *
		 * @since 3.0.0
		 *
		 * @param string[] $default_date_formats Array of default date formats.
		 */
		$date_formats = sugar_calendar_date_formats();
		$date_formats = array_unique( $date_formats );
		$date_format  = sc_get_date_format();

		UI::date_time_format_control(
			[
				'id'      => 'date_format',
				'name'    => 'date_format',
				'formats' => $date_formats,
				'value'   => $date_format,
				'label'   => esc_html__( 'Date Format', 'sugar-calendar-lite' ),
			]
		);

		// Time format.
		/**
		 * Filters the default time formats.
		 *
		 * @since 3.0.0
		 *
		 * @param string[] $default_time_formats Array of default time formats.
		 */
		$time_formats = sugar_calendar_time_formats();
		$time_formats = array_unique( $time_formats );
		$time_format  = sc_get_time_format();

		UI::date_time_format_control(
			[
				'id'      => 'time_format',
				'name'    => 'time_format',
				'formats' => $time_formats,
				'value'   => $time_format,
				'label'   => esc_html__( 'Time Format', 'sugar-calendar-lite' ),
			]
		);

		// Calendar day colors.
		/**
		 * Filters the default day color styles.
		 *
		 * @since 2.0.0
		 *
		 * @param array $styles Color styles.
		 */
		$color_styles = apply_filters( // phpcs:ignore WPForms.PHP.ValidateHooks.InvalidHookName
			'sc_day_color_styles',
			[
				'none'  => esc_html__( 'None', 'sugar-calendar-lite' ),
				'each'  => esc_html__( 'Each', 'sugar-calendar-lite' ),
				'first' => esc_html__( 'First', 'sugar-calendar-lite' ),
				'blend' => esc_html__( 'Blend', 'sugar-calendar-lite' ),
			]
		);
		$color_styles = array_unique( $color_styles );
		$color_style  = sc_get_day_color_style();

		UI::select_input(
			[
				'id'          => 'day_color_style',
				'name'        => 'day_color_style',
				'options'     => $color_styles,
				'value'       => $color_style,
				'label'       => esc_html__( 'Calendar Day Colors', 'sugar-calendar-lite' ),
				'description' => __( 'The theme-side Calendar Color styling strategy.<br><strong>None</strong> by default (no colors).<br><strong>Each</strong> uses a single color for each Event link.<br><strong>First</strong> uses the first color found for the background.<br><strong>Blend</strong> will use the average of all colors for the background.', 'sugar-calendar-lite' ),
			]
		);

		// Dark Mode.
		UI::select_input(
			[
				'id'          => 'single_event_appearance_mode',
				'name'        => 'single_event_appearance_mode',
				'options'     => [
					'light' => esc_html__( 'Light', 'sugar-calendar-lite' ),
					'dark'  => esc_html__( 'Dark', 'sugar-calendar-lite' ),
				],
				'value'       => Editor\get_single_event_appearance_mode(),
				'label'       => esc_html__( 'Event Page Appearance', 'sugar-calendar-lite' ),
				'description' => __( 'Adjust the frontend display of event single page.', 'sugar-calendar-lite' ),
			]
		);

		// Editing heading.
		UI::heading(
			[
				'title' => esc_html__( 'Editing', 'sugar-calendar-lite' ),
			]
		);

		// Editor Type
		// Get the current editor settings.
		$type   = Editor\current();
		$fields = Editor\custom_fields();

		// Get the registered editors.
		$editors = Editor\registered();

		$editor_types = array_reduce(
			$editors,
			function ( $editor_types, $editor ) {

				$editor_types[ $editor['id'] ] = [ $editor['label'], ! $editor['disabled'] ];

				return $editor_types;
			},
			[]
		);

		UI::select_input(
			[
				'name'        => 'editor_type',
				'id'          => 'editor_type',
				'options'     => $editor_types,
				'value'       => $type,
				'label'       => esc_html__( 'Editor Type', 'sugar-calendar-lite' ),
				'description' => esc_html__( 'The interface to use when adding or editing Events.', 'sugar-calendar-lite' ),
			]
		);

		// Custom Fields.
		UI::toggle_control(
			[
				'id'          => 'custom_fields',
				'name'        => 'custom_fields',
				'value'       => $fields,
				'label'       => esc_html__( 'Custom Fields', 'sugar-calendar-lite' ),
				'description' => __( 'Allow developers to extend post types that support <code>events</code>.', 'sugar-calendar-lite' ),
			]
		);

		// Default Event Calendar.
		// Get the taxonomy & args.
		$tax     = get_taxonomy( sugar_calendar_get_calendar_taxonomy_id() );
		$current = sugar_calendar_get_default_calendar();
		$name    = sugar_calendar_get_default_calendar_option_name();
		$args    = [
			'taxonomy'         => $tax->name,
			'hierarchical'     => $tax->hierarchical,
			'selected'         => $current,
			'id'               => $name,
			'name'             => $name,
			'hide_empty'       => false,
			'orderby'          => 'name',
			'show_option_none' => esc_html__( '&mdash; No Default &mdash;', 'sugar-calendar-lite' ),
			'label'            => esc_html__( 'Default Event Calendar', 'sugar-calendar-lite' ),
			'description'      => esc_html__( 'When adding a new Event, this Calendar will be preselected.', 'sugar-calendar-lite' ),
		];

		UI::calendar_dropdown_control( $args );

		// Time Zone heading.
		UI::heading(
			[
				'title' => esc_html__( 'Time Zone', 'sugar-calendar-lite' ),
			]
		);

		// Time Zones.
		// Get the current settings.
		$timezone  = PluginSettings::get( 'timezone', '' );
		$tztype    = PluginSettings::get( 'timezone_type', 'off' );
		$tzconvert = PluginSettings::get( 'timezone_convert', false );

		// Types.
		$types = [
			'off'    => esc_html__( 'Off', 'sugar-calendar-lite' ),
			'single' => esc_html__( 'Single', 'sugar-calendar-lite' ),
			'multi'  => esc_html__( 'Multi', 'sugar-calendar-lite' ),
		];

		UI::select_input(
			[
				'name'        => 'timezone_type',
				'id'          => 'timezone_type',
				'options'     => $types,
				'value'       => $tztype,
				'label'       => esc_html__( 'Time Zones', 'sugar-calendar-lite' ),
				'description' => __( '<strong>Off</strong> by default (Existing time zone data still appears).<br><strong>Single</strong> allows Events to have one time zone.<br><strong>Multi</strong> allows Events to have different start & end time zones.<br><strong>Single</strong> and <strong>Multi</strong> will enable time zones for Calendars.', 'sugar-calendar-lite' ),
			]
		);

		// Default Time Zone.
		UI::timezone_dropdown_control(
			[
				'name'        => 'timezone',
				'id'          => 'timezone',
				'current'     => $timezone,
				'label'       => esc_html__( 'Default Time Zone', 'sugar-calendar-lite' ),
				'description' => __( 'When time zones are enabled, new Events will default to this. If you are unsure, leave empty or pick the time zone you are in.', 'sugar-calendar-lite' ),
			]
		);

		// Visitor Conversion.
		UI::toggle_control(
			[
				'id'          => 'timezone_convert',
				'name'        => 'timezone_convert',
				'value'       => $tzconvert,
				'label'       => esc_html__( 'Visitor Conversion', 'sugar-calendar-lite' ),
				'description' => __( 'Attempts to update theme-side Event times according to visitor web browser location. Depends on client-side browser support. May not work for all visitors.', 'sugar-calendar-lite' ),
			]
		);
	}

	/**
	 * Display license key settings controls.
	 *
	 * @since 3.0.0
	 *
	 * @return false|string
	 */
	private function display_license_key_settings() {

		ob_start();
		?>
		<div class="sugar-calendar-setting-license-wrapper">
			<div class="sugar-calendar-setting-license-key-wrapper">
				<input type="password"
					value=""
					placeholder="<?php esc_attr_e( 'Paste license key here', 'sugar-calendar-lite' ); ?>"
					id="sugar-calendar-setting-license-key"/>
			</div>
			<button type="button"
				class="sugar-calendar-btn sugar-calendar-btn-md sugar-calendar-btn-primary"
				id="sugar-calendar-setting-license-key-button"><?php esc_attr_e( 'Verify Key', 'sugar-calendar-lite' ); ?></button>
		</div>
		<p class="desc">
			<?php
			echo wp_kses(
				sprintf( /* translators: %1$s - Sugar Calendar account dashboard url; %2$s - pricing page url. */
					__( 'Your license key can be found in your <a href="%1$s" target="_blank" rel="noopener noreferrer">Sugar Calendar Account Dashboard</a>. Don\'t have a license?  <a href="%2$s" target="_blank" rel="noopener noreferrer">Sign up today!</a>', 'sugar-calendar-lite' ),
					// phpcs:ignore WordPress.Arrays.ArrayDeclarationSpacing.AssociativeArrayFound
					esc_url( Helpers::get_utm_url( 'https://sugarcalendar.com/account/', [ 'content' => 'License Key Account Dashboard Link', 'medium' => 'settings-general' ] ) ),
					esc_url(
						Helpers::get_upgrade_link(
							[
								'content' => 'License Sign Up Today',
								'medium'  => 'settings-general',
							]
						)
					)
				),
				[
					'a' => [
						'href'   => [],
						'target' => [],
						'rel'    => [],
					],
				]
			);
			?>
		</p>
		<?php

		return ob_get_clean();
	}

	/**
	 * Handle POST requests.
	 *
	 * @since 3.0.0
	 *
	 * @param array $post_data Post data.
	 */
	public function handle_post( $post_data = [] ) { // phpcs:ignore Generic.Metrics.CyclomaticComplexity.MaxExceeded

		$settings = [
			'number_of_events',
			'start_of_week',
			'date_format',
			'time_format',
			'day_color_style',
			'timezone_convert',
			'timezone_type',
			'timezone',
			'editor_type',
			'custom_fields',
			'default_calendar',
			'hide_announcements',
			'single_event_appearance_mode',
		];

		foreach ( $settings as $key ) {
			$value = $post_data[ $key ] ?? '';

			switch ( $key ) {
				case 'number_of_events':
					$value = max( 0, intval( $value ) );
					break;

				case 'start_of_week':
					$value = in_array( intval( $value ), range( 0, 6 ) ) ? intval( $value ) : 0;
					break;

				case 'date_format':
				case 'time_format':
					$value = sanitize_option( 'date_format', $value );
					break;

				case 'day_color_style':
					$color_styles = [ 'none', 'each', 'first', 'blend' ];
					$value        = in_array( $value, $color_styles ) ? $value : $color_styles[0];
					break;

				case 'editor_type':
					$editor_types = wp_list_pluck( Editor\registered(), 'id' );
					$value        = in_array( $value, $editor_types ) ? $value : $editor_types[0];
					break;

				case 'custom_fields':
				case 'timezone_convert':
					$value = isset( $post_data[ $key ] );
					break;

				case 'default_calendar':
					$calendars = get_terms(
						[
							'taxonomy'   => 'sc_event_category',
							'orderby'    => 'name',
							'hide_empty' => 0,
							'fields'     => 'ids',
						]
					);
					$calendars = [ -1, ...$calendars ];
					$value     = in_array( intval( $value ), $calendars ) ? intval( $value ) : $calendars[0];
					break;

				case 'timezone_type':
					$types = [ 'off', 'single', 'multi' ];
					$value = in_array( $value, $types ) ? $value : $types[0];
					break;

				case 'timezone':
					$value = sanitize_option( 'timezone_string', $value );
					break;

				case 'single_event_appearance_mode':
					$modes = [ 'light', 'dark' ];
					$value = in_array( $value, $modes, true ) ? $value : $modes[0];
					break;
			}

			Options::update( $key, $value );
		}

		WP::add_admin_notice( esc_html__( 'Settings saved.', 'sugar-calendar-lite' ), WP::ADMIN_NOTICE_SUCCESS );
	}

	/**
	 * Handle date and time formatting AJAX requests.
	 *
	 * @since 3.0.0
	 *
	 * @return void
	 */
	public function ajax_date_time_format() {

		// phpcs:disable WordPress.Security.NonceVerification.Missing,WordPress.Security.ValidatedSanitizedInput.MissingUnslash
		if ( ! isset( $_POST['date_time_format'] ) ) {
			wp_send_json_error();
		}

		// Get format.
		$format = sanitize_option( 'date_format', $_POST['date_time_format'] );
		// phpcs:enable WordPress.Security.NonceVerification.Missing,WordPress.Security.ValidatedSanitizedInput.MissingUnslash

		// Get the time zone.
		$timezone = sugar_calendar_get_timezone();

		// Format and translate.
		$date_time_format = sugar_calendar_format_date_i18n( $format, null, $timezone );

		wp_send_json_success( $date_time_format );
	}
}
